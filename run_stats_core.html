<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Statistical Tests for the ‘Doors’ project</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="run_stats_core_files/libs/clipboard/clipboard.min.js"></script>
<script src="run_stats_core_files/libs/quarto-html/quarto.js"></script>
<script src="run_stats_core_files/libs/quarto-html/popper.min.js"></script>
<script src="run_stats_core_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="run_stats_core_files/libs/quarto-html/anchor.min.js"></script>
<link href="run_stats_core_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="run_stats_core_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="run_stats_core_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="run_stats_core_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="run_stats_core_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Statistical Tests for the ‘Doors’ project</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="preparing-the-data" class="level1">
<h1>Preparing the data</h1>
<section id="load-and-format-the-data" class="level2">
<h2 class="anchored" data-anchor-id="load-and-format-the-data">Load and format the data</h2>
<p>We’ll use the generic wrangled data file, “exp_lt_avg.csv”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>project_path <span class="ot">&lt;-</span> <span class="fu">getwd</span>()</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>exp <span class="ot">&lt;-</span> <span class="st">"exp_lt"</span> <span class="co"># experiment: 'exp_ts' (task-switching) or 'exp_lt' (learning transfer)</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="fu">file.path</span>(project_path, <span class="st">"res"</span>, <span class="fu">paste</span>(<span class="fu">paste</span>(exp, <span class="st">"avg"</span>, <span class="at">sep =</span> <span class="st">"_"</span>), <span class="st">".csv"</span>, <span class="at">sep =</span> <span class="st">""</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Make sure that the key variables are formatted as factors, ready for ANOVAs.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>training_data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ses<span class="sc">==</span><span class="dv">2</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(sub, train_type, <span class="cf">switch</span>, context_changes, accuracy,</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>         setting_errors, general_errors) <span class="sc">%&gt;%</span> </span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">train_type =</span> train_type<span class="dv">-1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sub =</span> <span class="fu">factor</span>(sub), </span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">train_type =</span> <span class="fu">factor</span>(train_type), </span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">train_type =</span> <span class="fu">case_when</span>(train_type<span class="sc">==</span><span class="dv">0</span><span class="sc">~</span><span class="st">"low"</span>,train_type<span class="sc">==</span><span class="dv">1</span><span class="sc">~</span><span class="st">"high"</span>),</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">switch =</span> <span class="fu">factor</span>(<span class="cf">switch</span>), </span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">switch =</span> <span class="fu">case_when</span>(<span class="cf">switch</span><span class="sc">==</span><span class="dv">0</span><span class="sc">~</span><span class="st">"stay"</span>,<span class="cf">switch</span><span class="sc">==</span><span class="dv">1</span><span class="sc">~</span><span class="st">"switch"</span>))</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>test_data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ses<span class="sc">==</span><span class="dv">3</span>,<span class="cf">switch</span><span class="sc">==</span><span class="dv">0</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(sub, train_type, transfer, full_transfer_first, accuracy, learned_setting_errors)</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>test_data<span class="sc">$</span>general_errors <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">-</span> test_data<span class="sc">$</span>accuracy <span class="sc">-</span> test_data<span class="sc">$</span>learned_setting_errors</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(ses <span class="sc">==</span> <span class="dv">2</span> <span class="sc">&amp;</span> <span class="cf">switch</span> <span class="sc">==</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(sub, context, transition_probabilities) <span class="sc">%&gt;%</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(sub) <span class="sc">%&gt;%</span> </span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mu_tp =</span> <span class="fu">mean</span>(transition_probabilities))</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>test_data <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(test_data, tmp, <span class="at">by=</span><span class="st">"sub"</span>)</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>k4_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">file.path</span>(project_path, <span class="st">"res"</span>, <span class="fu">paste</span>(<span class="fu">paste</span>(exp, <span class="st">"maggi-k4"</span>, <span class="at">sep =</span> <span class="st">"_"</span>), <span class="st">".csv"</span>, <span class="at">sep =</span> <span class="st">""</span>)), <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
• `` -&gt; `...1`</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>k4_data <span class="ot">&lt;-</span> k4_data <span class="sc">%&gt;%</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ses<span class="sc">==</span><span class="dv">3</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(sid, transfer, nclicks, k4_onset) <span class="sc">%&gt;%</span> </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">sub=</span>sid)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>test_data <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(test_data, k4_data, <span class="at">by=</span><span class="fu">c</span>(<span class="st">"sub"</span>,<span class="st">"transfer"</span>))</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>test_data <span class="ot">&lt;-</span> test_data <span class="sc">%&gt;%</span> </span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">train_type =</span> train_type<span class="dv">-1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sub =</span> <span class="fu">factor</span>(sub), </span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">train_type =</span> <span class="fu">factor</span>(train_type), </span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">train_type =</span> <span class="fu">case_when</span>(train_type<span class="sc">==</span><span class="dv">0</span><span class="sc">~</span><span class="st">"low"</span>,train_type<span class="sc">==</span><span class="dv">1</span><span class="sc">~</span><span class="st">"high"</span>),</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">transfer =</span> <span class="fu">factor</span>(transfer), </span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>         <span class="at">transfer =</span> <span class="fu">case_when</span>(transfer<span class="sc">==</span><span class="dv">1</span><span class="sc">~</span><span class="st">"complete"</span>,transfer<span class="sc">==</span><span class="dv">2</span><span class="sc">~</span><span class="st">"partial"</span>),</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>         <span class="at">full_transfer_first =</span> <span class="fu">factor</span>(full_transfer_first),</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>         <span class="at">full_transfer_first =</span> <span class="fu">case_when</span>(full_transfer_first<span class="sc">==</span><span class="dv">0</span><span class="sc">~</span><span class="st">"pf"</span>,full_transfer_first<span class="sc">==</span><span class="dv">1</span><span class="sc">~</span><span class="st">"cf"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="train-phase" class="level1">
<h1>Train phase</h1>
<section id="general-errors" class="level2">
<h2 class="anchored" data-anchor-id="general-errors">General errors</h2>
<p>Test whether experiencing a low or high rate of context switches during training influenced how often people clicked doors that were never relevant for either house (general errors).</p>
<section id="anova" class="level3">
<h3 class="anchored" data-anchor-id="anova">ANOVA</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>training_results <span class="ot">&lt;-</span> <span class="fu">aov_ez</span>(<span class="st">"sub"</span>, <span class="st">"general_errors"</span>, training_data, <span class="at">within =</span> <span class="st">"switch"</span>, <span class="at">between =</span> <span class="fu">c</span>(<span class="st">"train_type"</span>), <span class="at">fun_aggregate =</span> mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Converting to factor: train_type</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Contrasts set to contr.sum for the following variables: train_type</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(training_results)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Univariate Type III Repeated-Measures ANOVA Assuming Sphericity

                    Sum Sq num Df Error SS den Df F value    Pr(&gt;F)    
(Intercept)       0.191807      1  0.79394     98 23.6757 4.358e-06 ***
train_type        0.026178      1  0.79394     98  3.2312   0.07533 .  
switch            0.005387      1  0.02221     98 23.7660 4.197e-06 ***
train_type:switch 0.000000      1  0.02221     98  0.0002   0.98884    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
</section>
<section id="contrasts" class="level3">
<h3 class="anchored" data-anchor-id="contrasts">Contrasts</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>sum_emm_int <span class="ot">&lt;-</span> <span class="fu">emmeans</span>(training_results, <span class="fu">c</span>(<span class="st">"train_type"</span>, <span class="st">"switch"</span>)) <span class="co">#get est. marginal means</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>switch_effect <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>) <span class="co">#make a vector comparing switch vs stay trials</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>main_effect_contrasts <span class="ot">&lt;-</span> (<span class="fu">list</span>(switch_effect))</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="fu">contrast</span>(sum_emm_int, main_effect_contrasts) <span class="co">#perform contrasts analyses for main effects</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> contrast        estimate      SE df t.ratio p.value
 c(-1, -1, 1, 1)   0.0208 0.00426 98   4.875  &lt;.0001</code></pre>
</div>
</div>
</section>
<section id="descriptive-statistics" class="level3">
<h3 class="anchored" data-anchor-id="descriptive-statistics">Descriptive statistics</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>training_data <span class="sc">%&gt;%</span> </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="cf">switch</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">means =</span> <span class="fu">mean</span>(general_errors),</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">sd =</span> <span class="fu">sd</span>(general_errors)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 3
  switch  means     sd
  &lt;chr&gt;   &lt;dbl&gt;  &lt;dbl&gt;
1 stay   0.0258 0.0603
2 switch 0.0362 0.0715</code></pre>
</div>
</div>
</section>
</section>
<section id="context-changes" class="level2">
<h2 class="anchored" data-anchor-id="context-changes">Context changes</h2>
<p>Test whether experiencing a high or low rate of context switches during training (train_type) influenced how likely participants were to spontaneously explore the other context (context changes).</p>
<section id="anova-1" class="level3">
<h3 class="anchored" data-anchor-id="anova-1">ANOVA</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>training_results <span class="ot">&lt;-</span> <span class="fu">aov_ez</span>(<span class="st">"sub"</span>,<span class="st">"context_changes"</span>, training_data, <span class="at">within =</span> <span class="st">"switch"</span>, <span class="at">between =</span> <span class="fu">c</span>(<span class="st">"train_type"</span>), <span class="at">fun_aggregate =</span> mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Converting to factor: train_type</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Contrasts set to contr.sum for the following variables: train_type</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(training_results)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Univariate Type III Repeated-Measures ANOVA Assuming Sphericity

                  Sum Sq num Df Error SS den Df F value    Pr(&gt;F)    
(Intercept)       91.218      1  177.034     98 50.4951 1.939e-10 ***
train_type        15.253      1  177.034     98  8.4435  0.004529 ** 
switch             0.371      1    5.872     98  6.1929  0.014513 *  
train_type:switch  1.424      1    5.872     98 23.7717 4.187e-06 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
</section>
<section id="contrasts-1" class="level3">
<h3 class="anchored" data-anchor-id="contrasts-1">Contrasts</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>sum_emm_int <span class="ot">&lt;-</span> <span class="fu">emmeans</span>(training_results, <span class="fu">c</span>(<span class="st">"train_type"</span>, <span class="st">"switch"</span>))</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>switch_effect <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>) <span class="co">#vector comparing complete vs partial transfer</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>group_effect <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">1</span>, <span class="sc">-</span><span class="dv">1</span>) <span class="co">#vector comparing low switch vs high switch</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>interaction_effects<span class="ot">&lt;-</span>switch_effect <span class="sc">*</span> group_effect <span class="co">#multiply vectors</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="fu">contrast</span>(sum_emm_int, <span class="fu">list</span>(interaction_effects)) <span class="co">#perform contrasts analyses</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> contrast        estimate     SE df t.ratio p.value
 c(-1, 1, 1, -1)   -0.338 0.0692 98  -4.876  &lt;.0001</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>low_switch_effect <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>) <span class="co">#comparing accuracies for low-switch </span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>high_switch_effect <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">0</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">0</span>) <span class="co">#comparing accuracies for high-switch </span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>stay_trials_effect <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>) <span class="co"># comparing between groups on stay trials</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>switch_trials_effect <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="sc">-</span><span class="dv">1</span>) <span class="co"># comparing  between groups on sitch trials</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>simple_effect_contrasts <span class="ot">&lt;-</span> <span class="fu">list</span>(low_switch_effect, </span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>                                high_switch_effect,</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>                                stay_trials_effect,</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>                                switch_trials_effect)</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="fu">contrast</span>(sum_emm_int, simple_effect_contrasts) <span class="co">#contrasts analyses for simple effects</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> contrast       estimate    SE df t.ratio p.value
 c(0, -1, 0, 1)   0.0826 0.049 98   1.688  0.0946
 c(1, 0, -1, 0)   0.2549 0.049 98   5.207  &lt;.0001
 c(1, -1, 0, 0)   0.7211 0.197 98   3.668  0.0004
 c(0, 0, 1, -1)   0.3835 0.190 98   2.021  0.0460</code></pre>
</div>
</div>
</section>
<section id="descriptive-statistics-1" class="level3">
<h3 class="anchored" data-anchor-id="descriptive-statistics-1">Descriptive statistics</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>training_data <span class="sc">%&gt;%</span> </span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(train_type, <span class="cf">switch</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">means =</span> <span class="fu">mean</span>(context_changes),</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">sd =</span> <span class="fu">sd</span>(context_changes)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'train_type'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 4
# Groups:   train_type [2]
  train_type switch means    sd
  &lt;chr&gt;      &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt;
1 high       stay   1.08  1.24 
2 high       switch 0.824 1.11 
3 low        stay   0.358 0.657
4 low        switch 0.440 0.811</code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="test-phase" class="level1">
<h1>Test phase</h1>
<section id="accuracy" class="level2">
<h2 class="anchored" data-anchor-id="accuracy">Accuracy</h2>
<p>Are people in the low or high context switching training group more accurate on partial or complete transfer?</p>
<section id="anova-2" class="level3">
<h3 class="anchored" data-anchor-id="anova-2">ANOVA</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>test_results <span class="ot">&lt;-</span> <span class="fu">aov_ez</span>(<span class="st">"sub"</span>, <span class="st">"accuracy"</span>, test_data, <span class="at">within =</span> <span class="st">"transfer"</span>, <span class="at">between =</span> <span class="fu">c</span>(<span class="st">"train_type"</span>, <span class="st">"full_transfer_first"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Converting to factor: train_type, full_transfer_first</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Contrasts set to contr.sum for the following variables: train_type, full_transfer_first</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(test_results)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Univariate Type III Repeated-Measures ANOVA Assuming Sphericity

                                         Sum Sq num Df Error SS den Df
(Intercept)                             156.142      1  1.03960     96
train_type                                0.002      1  1.03960     96
full_transfer_first                       0.002      1  1.03960     96
train_type:full_transfer_first            0.005      1  1.03960     96
transfer                                  0.048      1  0.48112     96
train_type:transfer                       0.028      1  0.48112     96
full_transfer_first:transfer              0.001      1  0.48112     96
train_type:full_transfer_first:transfer   0.001      1  0.48112     96
                                           F value    Pr(&gt;F)    
(Intercept)                             14418.7244 &lt; 2.2e-16 ***
train_type                                  0.2083  0.649163    
full_transfer_first                         0.1584  0.691542    
train_type:full_transfer_first              0.5003  0.481083    
transfer                                    9.6276  0.002518 ** 
train_type:transfer                         5.6712  0.019219 *  
full_transfer_first:transfer                0.1392  0.709889    
train_type:full_transfer_first:transfer     0.2614  0.610316    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
</section>
<section id="contrasts-2" class="level3">
<h3 class="anchored" data-anchor-id="contrasts-2">Contrasts</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co">#   interaction</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>sum_emm_int <span class="ot">&lt;-</span> <span class="fu">emmeans</span>(test_results, <span class="fu">c</span>(<span class="st">"train_type"</span>, <span class="st">"transfer"</span>))</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>transfer_effect <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="sc">-</span><span class="dv">1</span>) <span class="co">#vector comparing complete vs partial transfer</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>group_effect <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">1</span>, <span class="sc">-</span><span class="dv">1</span>) <span class="co">#vector comparing low switch vs high switch</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>interaction_effects<span class="ot">&lt;-</span>transfer_effect <span class="sc">*</span> group_effect <span class="co">#multiply vectors</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="fu">contrast</span>(sum_emm_int, <span class="fu">list</span>(interaction_effects)) <span class="co">#perform contrasts analyses</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> contrast        estimate     SE df t.ratio p.value
 c(1, -1, -1, 1)  -0.0497 0.0209 96  -2.381  0.0192

Results are averaged over the levels of: full_transfer_first </code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co">#   simple effects</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>low_switch_transfer_effect <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="sc">-</span><span class="dv">1</span>) <span class="co">#comparing accuracies for low-switch only</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>high_switch_transfer_effect <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">0</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">0</span>) <span class="co">#comparing accuracies for high-switch only</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>complete_transfer_effect <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>) <span class="co"># comparing between groups on stay trials</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>partial_transfer_effect <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="sc">-</span><span class="dv">1</span>) <span class="co"># comparing  between groups on sitch trials</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>simple_effect_contrasts <span class="ot">&lt;-</span> <span class="fu">list</span>(low_switch_transfer_effect, </span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>                                high_switch_transfer_effect,</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>                                complete_transfer_effect,</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>                                partial_transfer_effect</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a><span class="fu">contrast</span>(sum_emm_int, simple_effect_contrasts) <span class="co">#contrasts analyses for simple effects</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> contrast       estimate     SE df t.ratio p.value
 c(0, 1, 0, -1)  0.05719 0.0147 96   3.878  0.0002
 c(1, 0, -1, 0)  0.00752 0.0147 96   0.510  0.6111
 c(1, -1, 0, 0) -0.01784 0.0180 96  -0.990  0.3248
 c(0, 0, 1, -1)  0.03183 0.0190 96   1.671  0.0979

Results are averaged over the levels of: full_transfer_first </code></pre>
</div>
</div>
</section>
<section id="descriptive-statistics-2" class="level3">
<h3 class="anchored" data-anchor-id="descriptive-statistics-2">Descriptive statistics</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co">#   variance</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>test_data <span class="sc">%&gt;%</span> </span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(train_type, transfer, full_transfer_first) <span class="sc">%&gt;%</span> </span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">variance =</span> <span class="fu">var</span>(accuracy)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'train_type', 'transfer'. You can override
using the `.groups` argument.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 4
# Groups:   train_type, transfer [4]
  train_type transfer full_transfer_first variance
  &lt;chr&gt;      &lt;chr&gt;    &lt;chr&gt;                  &lt;dbl&gt;
1 high       complete cf                   0.0109 
2 high       complete pf                   0.00743
3 high       partial  cf                   0.00827
4 high       partial  pf                   0.00367
5 low        complete cf                   0.00601
6 low        complete pf                   0.00398
7 low        partial  cf                   0.0111 
8 low        partial  pf                   0.00827</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co">#   mean and sd</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>test_data <span class="sc">%&gt;%</span> </span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(train_type, transfer) <span class="sc">%&gt;%</span> </span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_acc =</span> <span class="fu">mean</span>(accuracy),</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">sd =</span> <span class="fu">sd</span>(accuracy))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'train_type'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 4
# Groups:   train_type [2]
  train_type transfer mean_acc     sd
  &lt;chr&gt;      &lt;chr&gt;       &lt;dbl&gt;  &lt;dbl&gt;
1 high       complete    0.925 0.0977
2 high       partial     0.918 0.0811
3 low        complete    0.945 0.0720
4 low        partial     0.890 0.0996</code></pre>
</div>
</div>
</section>
</section>
<section id="learned-setting-errors" class="level2">
<h2 class="anchored" data-anchor-id="learned-setting-errors">Learned setting errors</h2>
<p>Do people revert to clicking on doors that belonged to a house during training, even though they don’t belong to the current house?</p>
<section id="anova-3" class="level3">
<h3 class="anchored" data-anchor-id="anova-3">ANOVA</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>test_results <span class="ot">&lt;-</span> <span class="fu">aov_ez</span>(<span class="st">"sub"</span>, <span class="st">"accuracy"</span>, test_data, <span class="at">within =</span> <span class="st">"transfer"</span>, <span class="at">between =</span> <span class="fu">c</span>(<span class="st">"train_type"</span>, <span class="st">"full_transfer_first"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Converting to factor: train_type, full_transfer_first</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Contrasts set to contr.sum for the following variables: train_type, full_transfer_first</code></pre>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(test_results)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Univariate Type III Repeated-Measures ANOVA Assuming Sphericity

                                         Sum Sq num Df Error SS den Df
(Intercept)                             156.142      1  1.03960     96
train_type                                0.002      1  1.03960     96
full_transfer_first                       0.002      1  1.03960     96
train_type:full_transfer_first            0.005      1  1.03960     96
transfer                                  0.048      1  0.48112     96
train_type:transfer                       0.028      1  0.48112     96
full_transfer_first:transfer              0.001      1  0.48112     96
train_type:full_transfer_first:transfer   0.001      1  0.48112     96
                                           F value    Pr(&gt;F)    
(Intercept)                             14418.7244 &lt; 2.2e-16 ***
train_type                                  0.2083  0.649163    
full_transfer_first                         0.1584  0.691542    
train_type:full_transfer_first              0.5003  0.481083    
transfer                                    9.6276  0.002518 ** 
train_type:transfer                         5.6712  0.019219 *  
full_transfer_first:transfer                0.1392  0.709889    
train_type:full_transfer_first:transfer     0.2614  0.610316    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<p>We don’t run contrasts here, because the omnibus test does reach significance.</p>
</section>
<section id="descriptive-statistics-3" class="level3">
<h3 class="anchored" data-anchor-id="descriptive-statistics-3">Descriptive statistics</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>test_data <span class="sc">%&gt;%</span> </span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(transfer) <span class="sc">%&gt;%</span> </span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean =</span> <span class="fu">mean</span>(learned_setting_errors),</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">sd =</span> <span class="fu">sd</span>(learned_setting_errors))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 3
  transfer   mean     sd
  &lt;chr&gt;     &lt;dbl&gt;  &lt;dbl&gt;
1 complete 0.0425 0.0682
2 partial  0.0713 0.0897</code></pre>
</div>
</div>
</section>
</section>
<section id="general-errors-1" class="level2">
<h2 class="anchored" data-anchor-id="general-errors-1">General errors</h2>
<p>Do people who have experienced low or high rates of context switching during training select more doors that have never belonged to a house (general_errors) during partial or complete transfer?</p>
<section id="anova-4" class="level3">
<h3 class="anchored" data-anchor-id="anova-4">ANOVA</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>test_results <span class="ot">&lt;-</span> <span class="fu">aov_ez</span>(<span class="st">"sub"</span>, <span class="st">"general_errors"</span>, test_data, <span class="at">within =</span> <span class="st">"transfer"</span>, <span class="at">between =</span> <span class="fu">c</span>(<span class="st">"train_type"</span>, <span class="st">"full_transfer_first"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Converting to factor: train_type, full_transfer_first</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Contrasts set to contr.sum for the following variables: train_type, full_transfer_first</code></pre>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(test_results)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Univariate Type III Repeated-Measures ANOVA Assuming Sphericity

                                          Sum Sq num Df Error SS den Df F value
(Intercept)                             0.091785      1 0.209954     96 41.9681
train_type                              0.000419      1 0.209954     96  0.1918
full_transfer_first                     0.003584      1 0.209954     96  1.6389
train_type:full_transfer_first          0.000255      1 0.209954     96  0.1164
transfer                                0.000324      1 0.034419     96  0.9024
train_type:transfer                     0.001432      1 0.034419     96  3.9950
full_transfer_first:transfer            0.000015      1 0.034419     96  0.0414
train_type:full_transfer_first:transfer 0.000128      1 0.034419     96  0.3569
                                           Pr(&gt;F)    
(Intercept)                             3.964e-09 ***
train_type                                0.66244    
full_transfer_first                       0.20356    
train_type:full_transfer_first            0.73373    
transfer                                  0.34452    
train_type:transfer                       0.04846 *  
full_transfer_first:transfer              0.83915    
train_type:full_transfer_first:transfer   0.55166    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>test_results <span class="ot">&lt;-</span> <span class="fu">ezANOVA</span>(<span class="at">data=</span>test_data, <span class="at">dv=</span>general_errors, <span class="at">wid=</span>sub, <span class="at">within=</span>transfer, <span class="at">between=</span>.(train_type, full_transfer_first))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Converting "transfer" to factor for ANOVA.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Converting "train_type" to factor for ANOVA.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Converting "full_transfer_first" to factor for ANOVA.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Data is unbalanced (unequal N per group). Make sure you specified a
well-considered value for the type argument to ezANOVA().</code></pre>
</div>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>test_results</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$ANOVA
                                   Effect DFn DFd          F          p p&lt;.05
2                              train_type   1  96 0.12719752 0.72213832      
3                     full_transfer_first   1  96 1.63892907 0.20355725      
5                                transfer   1  96 0.86522608 0.35461350      
4          train_type:full_transfer_first   1  96 0.11638680 0.73373238      
6                     train_type:transfer   1  96 3.63970347 0.05940559      
7            full_transfer_first:transfer   1  96 0.04142708 0.83914659      
8 train_type:full_transfer_first:transfer   1  96 0.35686454 0.55165924      
           ges
2 1.137062e-03
3 1.445560e-02
5 1.267804e-03
4 1.040522e-03
6 5.311615e-03
7 6.077591e-05
8 5.232986e-04</code></pre>
</div>
</div>
</section>
</section>
<section id="transition-probabilities" class="level2">
<h2 class="anchored" data-anchor-id="transition-probabilities">Transition probabilities</h2>
<p>Some people were very consistent in how they stepped between the target doors in each house during training. If they consistently stepped between two doors that were then included in their partial transfer context, they might perform better in the partial transfer context than someone who stepped between those two doors less often. Does transition probability during the train phase within the two pairs of doors that later form the partial transfer context correlate with partial transfer accuracy?</p>
<section id="correlation" class="level3">
<h3 class="anchored" data-anchor-id="correlation">Correlation</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co">#   correlation test for low switch group</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>cor_test_data_low <span class="ot">&lt;-</span> test_data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(transfer <span class="sc">==</span> <span class="st">"partial"</span>, train_type <span class="sc">==</span> <span class="st">"low"</span>) </span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(cor_test_data_low, <span class="fu">cor.test</span>(<span class="at">x=</span>mu_tp, <span class="at">y=</span>accuracy))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Pearson's product-moment correlation

data:  mu_tp and accuracy
t = 0.68952, df = 48, p-value = 0.4938
alternative hypothesis: true correlation is not equal to 0
95 percent confidence interval:
 -0.1843963  0.3672583
sample estimates:
       cor 
0.09903444 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co">#   correlation test for high switch group</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>cor_test_data_high <span class="ot">&lt;-</span> test_data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(transfer <span class="sc">==</span> <span class="st">"partial"</span>, train_type <span class="sc">==</span> <span class="st">"high"</span>)</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(cor_test_data_high, <span class="fu">cor.test</span>(<span class="at">x=</span>mu_tp, <span class="at">y=</span>accuracy))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Pearson's product-moment correlation

data:  mu_tp and accuracy
t = 0.50871, df = 48, p-value = 0.6133
alternative hypothesis: true correlation is not equal to 0
95 percent confidence interval:
 -0.2093870  0.3445533
sample estimates:
       cor 
0.07322864 </code></pre>
</div>
</div>
</section>
</section>
<section id="know-4" class="level2">
<h2 class="anchored" data-anchor-id="know-4">“Know 4”</h2>
<p>We have modelled participants’ clicks to estimate when during the test phase there is consistent evidence that they know all four doors (k4_onset), separately for the partial and complete transfer contexts. Do people who have experienced low or high rates of context switching during training know all four doors sooner?</p>
<p>First, exclude the people who never demonstrated that they knew all four doors, and print the new n.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>test_data <span class="ot">&lt;-</span> test_data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(k4_onset <span class="sc">!=</span> <span class="cn">Inf</span>)</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(test_data<span class="sc">$</span>sub))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 95</code></pre>
</div>
</div>
<section id="anova-5" class="level3">
<h3 class="anchored" data-anchor-id="anova-5">ANOVA</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>test_results <span class="ot">&lt;-</span> <span class="fu">aov_ez</span>(<span class="st">"sub"</span>, <span class="st">"k4_onset"</span>, test_data, <span class="at">within =</span> <span class="st">"transfer"</span>, <span class="at">between =</span> <span class="fu">c</span>(<span class="st">"train_type"</span>, <span class="st">"full_transfer_first"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Converting to factor: train_type, full_transfer_first</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Missing values for 9 ID(s), which were removed before analysis:
4, 9, 13, 14, 29, 63, 74, 81, 98
Below the first few rows (in wide format) of the removed cases with missing data.
     sub train_type full_transfer_first complete partial
# 4    4       high                  cf       86      NA
# 9    9        low                  cf       NA     245
# 13  13        low                  cf       42      NA
# 14  14        low                  cf       42      NA
# 29  29        low                  cf       37      NA
# 60  63       high                  cf       17      NA</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Contrasts set to contr.sum for the following variables: train_type, full_transfer_first</code></pre>
</div>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(test_results)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Univariate Type III Repeated-Measures ANOVA Assuming Sphericity

                                        Sum Sq num Df Error SS den Df  F value
(Intercept)                             533469      1   117836     82 371.2322
train_type                                 300      1   117836     82   0.2085
full_transfer_first                        757      1   117836     82   0.5266
train_type:full_transfer_first            5268      1   117836     82   3.6660
transfer                                  9730      1    92611     82   8.6152
train_type:transfer                       4943      1    92611     82   4.3766
full_transfer_first:transfer               986      1    92611     82   0.8734
train_type:full_transfer_first:transfer     26      1    92611     82   0.0226
                                           Pr(&gt;F)    
(Intercept)                             &lt; 2.2e-16 ***
train_type                               0.649168    
full_transfer_first                      0.470091    
train_type:full_transfer_first           0.059019 .  
transfer                                 0.004324 ** 
train_type:transfer                      0.039528 *  
full_transfer_first:transfer             0.352758    
train_type:full_transfer_first:transfer  0.880888    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
</section>
<section id="contrasts-3" class="level3">
<h3 class="anchored" data-anchor-id="contrasts-3">Contrasts</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="co">#   interaction effect</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>sum_emm_int <span class="ot">&lt;-</span> <span class="fu">emmeans</span>(test_results, <span class="fu">c</span>(<span class="st">"train_type"</span>, <span class="st">"transfer"</span>))</span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>transfer_effect <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="sc">-</span><span class="dv">1</span>) <span class="co">#vector comparing complete vs partial transfer</span></span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>group_effect <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">1</span>, <span class="sc">-</span><span class="dv">1</span>) <span class="co">#vector comparing low switch vs high switch</span></span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>interaction_effects<span class="ot">&lt;-</span>transfer_effect <span class="sc">*</span> group_effect <span class="co">#multiply vectors</span></span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a><span class="fu">contrast</span>(sum_emm_int, <span class="fu">list</span>(interaction_effects)) <span class="co">#perform contrasts analyses</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> contrast        estimate   SE df t.ratio p.value
 c(1, -1, -1, 1)     22.4 10.7 82   2.092  0.0395

Results are averaged over the levels of: full_transfer_first </code></pre>
</div>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="co">#   simple effects</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>low_switch_transfer_effect <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="sc">-</span><span class="dv">1</span>) <span class="co">#comparing accuracie for low-switch only</span></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>high_switch_transfer_effect <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">0</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">0</span>) <span class="co">#comparing accuracies for high-switch only</span></span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>complete_transfer_effect <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>) <span class="co"># comparing between groups on stay trials</span></span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>partial_transfer_effect <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="sc">-</span><span class="dv">1</span>) <span class="co"># comparing  between groups on sitch trials</span></span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>eimple_effect_contrasts <span class="ot">&lt;-</span> <span class="fu">list</span>(low_switch_transfer_effect, <span class="co">#simple effects</span></span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a>                                high_switch_transfer_effect,</span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a>                                complete_transfer_effect,</span>
<span id="cb74-9"><a href="#cb74-9" aria-hidden="true" tabindex="-1"></a>                                partial_transfer_effect</span>
<span id="cb74-10"><a href="#cb74-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb74-11"><a href="#cb74-11" aria-hidden="true" tabindex="-1"></a><span class="fu">contrast</span>(sum_emm_int, simple_effect_contrasts) <span class="co">#contrasts analyses for simple effects</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> contrast       estimate   SE df t.ratio p.value
 c(0, 1, 0, -1)   -26.91 7.83 82  -3.439  0.0009
 c(1, 0, -1, 0)    -4.51 7.31 82  -0.618  0.5384
 c(1, -1, 0, 0)     8.44 8.67 82   0.974  0.3331
 c(0, 0, 1, -1)   -13.96 7.42 82  -1.881  0.0636

Results are averaged over the levels of: full_transfer_first </code></pre>
</div>
</div>
</section>
<section id="descriptive-statistics-4" class="level3">
<h3 class="anchored" data-anchor-id="descriptive-statistics-4">Descriptive statistics</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co">#   mean and sd</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>test_means <span class="ot">&lt;-</span> test_data <span class="sc">%&gt;%</span> </span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(train_type, transfer) <span class="sc">%&gt;%</span> </span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_k4 =</span> <span class="fu">mean</span>(k4_onset),</span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">sd =</span> <span class="fu">sd</span>(k4_onset))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'train_type'. You can override using the
`.groups` argument.</code></pre>
</div>
</div>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>